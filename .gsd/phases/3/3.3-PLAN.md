---
phase: 3
plan: 3
wave: 3
---

# Plan 3.3: Implement Configurator State & Logic

## Objective
Migrate the vanilla JavaScript logic from `legacy/script.js` into React state hooks within the new Configurator page. Handle component selection, total cost calculation, compatibility warnings, and performance scores.

## Context
- .gsd/SPEC.md
- legacy/script.js
- src/app/build/page.tsx
- src/data/pc-components.json

## Tasks

<task type="auto">
  <name>Connect Component Data to State</name>
  <files>src/app/build/page.tsx, src/data/pc-components.json</files>
  <action>
    - Import `pc-components.json`.
    - Create a React state object `selectedComponents` to track user selections.
    - Render standard HTML `<select>` elements mapping over the JSON categories (CPU, GPU, etc.).
    - Ensure selecting an option updates the state.
  </action>
  <verify>npm run build</verify>
  <done>Category dropdowns populate dynamically from JSON and update React state upon selection.</done>
</task>

<task type="auto">
  <name>Implement Calculation & Compatibility Logic</name>
  <files>src/app/build/page.tsx</files>
  <action>
    - Port the `checkCompatibility()` logic (DDR4/5 checks, PSU wattage checks).
    - Port the `updatePerformanceScore()` logic.
    - Calculate and display `totalCost`.
    - Render warnings and the summary dynamically in the right sidebar.
  </action>
  <verify>npm run build</verify>
  <done>Total cost, compatibility warnings, and performance scores update automatically when selections change.</done>
</task>

## Success Criteria
- [ ] Selecting a CPU updates the total price in the summary.
- [ ] Selecting an incompatible CPU and RAM generates a warning message.
- [ ] The Performance Score updates based on CPU and GPU matching logic.
